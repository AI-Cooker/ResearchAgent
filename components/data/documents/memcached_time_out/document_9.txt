PHP: Memcache::setServerParams - Manual 
Downloads
Documentation
Get Involved
Help
PHP 8.1.24 Released!
Getting Started
Introduction
A simple tutorial
Language Reference
Basic syntax
Types
Variables
Constants
Expressions
Operators
Control Structures
Functions
Classes and Objects
Namespaces
Enumerations
Errors
Exceptions
Fibers
Generators
Attributes
References Explained
Predefined Variables
Predefined Exceptions
Predefined Interfaces and Classes
Predefined Attributes
Context options and parameters
Supported Protocols and Wrappers
Security
Introduction
General considerations
Installed as CGI binary
Installed as an Apache module
Session Security
Filesystem Security
Database Security
Error Reporting
User Submitted Data
Hiding PHP
Keeping Current
Features
HTTP authentication with PHP
Cookies
Sessions
Dealing with XForms
Handling file uploads
Using remote files
Connection handling
Persistent Database Connections
Command line usage
Garbage Collection
DTrace Dynamic Tracing
Function Reference
Affecting PHP's Behaviour
Audio Formats Manipulation
Authentication Services
Command Line Specific Extensions
Compression and Archive Extensions
Cryptography Extensions
Database Extensions
Date and Time Related Extensions
File System Related Extensions
Human Language and Character Encoding Support
Image Processing and Generation
Mail Related Extensions
Mathematical Extensions
Non-Text MIME Output
Process Control Extensions
Other Basic Extensions
Other Services
Search Engine Extensions
Server Specific Extensions
Session Extensions
Text Processing
Variable and Type Related Extensions
Web Services
Windows Only Extensions
XML Manipulation
GUI Extensions
Keyboard Shortcuts?
This help
j
Next menu item
k
Previous menu item
g p
Previous man page
g n
Next man page
G
Scroll to bottom
g g
Scroll to top
g h
Goto homepage
g s
Goto search(current page)
/
Focus search box
          Memcache Functions »
        
          « Memcache::setCompressThreshold        
PHP Manual Function Reference Other Services Memcache Memcache 
Change language:
English
Brazilian Portuguese
Chinese (Simplified)
French
German
Japanese
Russian
Spanish
Turkish
Other
Submit a Pull Request
Report a Bug
Memcache::setServerParams
(PECL memcache >= 2.1.0)Memcache::setServerParams — Changes server parameters and status at runtime
Description
Memcache::setServerParams(    string $host,    int $port = 11211,    int $timeout = ?,    int $retry_interval = false,    bool $status = ?,    callable $failure_callback = ?): bool
Memcache::setServerParams() changes server parameters at runtime.
   You can also use the memcache_set_server_params() function.
  
Note: 
   
    This function has been added to Memcache version 2.1.0.
   
Parameters
host
       Point to the host where memcached is listening for connections.
      
port
       Point to the port where memcached is listening for connections.
      
timeout
       Value in seconds which will be used for connecting to the daemon. Think
       twice before changing the default value of 1 second - you can lose all
       the advantages of caching if your connection is too slow.
      
retry_interval
       Controls how often a failed server will be retried, the default value
       is 15 seconds. Setting this parameter to -1 disables automatic retry. 
       Neither this nor the persistent parameter has any 
       effect when the extension is loaded dynamically via dl().
      
status
       Controls if the server should be flagged as online. Setting this parameter
       to false and retry_interval to -1 allows a failed 
       server to be kept in the pool so as not to affect the key distribution 
       algorithm. Requests for this server will then failover or fail immediately 
       depending on the memcache.allow_failover setting.
       Default to true, meaning the server should be considered online.
      
failure_callback
       Allows the user to specify a callback function to run upon encountering an 
       error. The callback is run before failover is attempted. The function takes 
       two parameters, the hostname and port of the failed server.
      
Return Values
   Returns true on success or false on failure.
  
Examples
Example #1 Memcache::setServerParams() example
<?phpfunction _callback_memcache_failure($host, $port) {    print "memcache '$host:$port' failed";}/* OO API */$memcache = new Memcache;// Add the server in offline mode$memcache->addServer('memcache_host', 11211, false, 1, 1, -1, false);// Bring the server back online$memcache->setServerParams('memcache_host', 11211, 1, 15, true, '_callback_memcache_failure');/* procedural API */$memcache_obj = memcache_connect('memcache_host', 11211);memcache_set_server_params($memcache_obj, 'memcache_host', 11211, 1, 15, true, '_callback_memcache_failure');?>
See Also
Memcache::addServer() - Add a memcached server to connection pool
Memcache::getServerStatus() - Returns server status
＋add a note
User Contributed Notes 
There are no user contributed notes for this page. 
Memcache
add
addServer
close
connect
decrement
delete
flush
get
getExtendedStats
getServerStatus
getStats
getVersion
increment
pconnect
replace
set
setCompressThreshold
setServerParams
Copyright © 2001-2023 The PHP Group
My PHP.net
Contact
Other PHP.net sites
Privacy policy
